\documentclass[preview]{standalone}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{stellar}
\usepackage{definitions}
\usepackage{bettelini}

\begin{document}

\id{sheaves-definitions}
\genpage

\section{Topological definitions}

\begin{snippetdefinition}{topological-presheaf-definition}{Presheaf}
    [\{
        "generalizations": ["presheaf-definition"]
    \}]
    Let \(X\) be a \topologicalspace.
    A \emph{presheaf} \(\mathcal F\) on \(X\) consists of:
    \begin{enumerate}
        \item for any \topologicalspace[open set] \(U\) of \(X\),
        a \set \(\mathcal F(U)\) of \emph{sections over \(U\)};
        \item for every inclusion \(V \subseteq U\), a \emph{restriction map}
        \[
            \rho_{U,V} \colon \mathcal F(U) \fromto \mathcal F(V)
        \]
    \end{enumerate}
    such that the restriction map is functorial:
    \begin{enumerate}
        \item \emph{identity:} \(\rho_{U,U} = \identityfunc_{\mathcal F(U)}\);
        \item \emph{transitivty:} if \(W \subseteq V \subseteq U\), then
        \[
            \rho_{U, W} = \rho_{V, W} \circ \rho_{U, V}.
        \]
    \end{enumerate}
    This restriction \(\rho_{U,V}(s)\) is also denoted \(\restr{s}{V}\).
\end{snippetdefinition}

\begin{snippetdefinition}{topological-sheaf-definition}{Sheaf}
    [\{
        "generalizations": ["sheaf-definition"]
    \}]
    Let \(X\) be a \topologicalspace.
    A \emph{presheaf} on \(X\) is a presheaf on \(X\)
    such that for every \topologicalspace[open set] \(U\) of \(X\)
    and every open cover \(\{U_i\}_{i\in I}\) of \(U\):
    \begin{enumerate}
        \item \emph{locality:} if \(s,t \in \mathcal F(U)\) satisfy
        \[
            \restr{s}{U_i} = \restr{t}{U_i}
        \]
        for all \(i\), then \(s=t\);
        \item \emph{gluing:} if for each \(i\) a section \(s_i \in F(U_i)\) is given such that for all \(i,j\)
        \[
            \restr{s_i}{U_i \intersection U_j} = \restr{s_j}{U_i \intersection U_j}
        \]
        then there exists a section \(s\in \mathcal F(U)\) such that
        \[
            \restr{s}{U_i} = s_i
        \]
        for all \(i\).
    \end{enumerate}
\end{snippetdefinition}

\section{Categorical definitions}

\begin{snippetdefinition}{presheaf-definition}{Presheaf}
    Let \(\mathcal{C}\) be a \category.
    A \emph{presheaf} on \(\mathcal{C}\)
    % todo link dualcat
    is a \functor from \({\mathcal{C}}^{\text{op}}\) to \(\mathcal{C}\).
\end{snippetdefinition}

\begin{snippet}{topological-presheaf-as-categorical-presheaf}
    By considering a \presheaf on the poset of open sets of a topological space,
    we get the topological notion of presheaf.
    Let \(X\) be a \topologicalspace and \(\mathcal C = \catopen(X)\)
    and consider the \presheaf \(\mathcal F\) on \(\mathcal C\).
    For each \openset \(U\) the \functor assigns a \set
    \(\mathcal F(U) \in \catset\), which are the sections over \(U\).
    % todo link dualcat
    For each morphism \(U \fromto V\) in \(\catopen(X)^{\text{op}}\),
    i.e. for each inclusion \(V \subseteq U\) in \(\catopen(X)\), the \functor
    gives a \function \(\mathcal F(U) \fromto \mathcal F(V)\), which are
    precisely the restriction maps.
    The properties are satisfied by functoriality:
    \begin{enumerate}
        \item arrows \(U \fromto U\) are mapped to the identity
        \(\mathcal F(U) \fromto \mathcal F(U)\).
        Thus, \(\rho_{U,U} = \identityfunc\).
        \item if \(W \subseteq V \subseteq U\), we have morphisms
        \(U \fromto V\), \(V \fromto W\) and \(U \fromto W\).
        We have
        \[
            \mathcal F(U \fromto W)
            = \mathcal F(V \fromto W) \circ \mathcal F(U \fromto V)
        \]
        Thus, \(\rho_{U, W} = \rho_{V, W} \circ \rho_{U,V}\).
    \end{enumerate}
\end{snippet}

\begin{snippetdefinition}{sheaf-definition}{Sheaf}
    \todo
\end{snippetdefinition}

\end{document}