\documentclass[preview]{standalone}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{stellar}
\usepackage{definitions}

\begin{document}

\id{coordinate-changes}
\genpage

\section{Definition}

\plain{Coordinate transformations using affine maps are diffeomorphisms. However, not all transformations, such as polar coordinates, are affine. These transformations must be one-to-one.}

\begin{snippetdefinition}{coordinate-change-definition}{Coordinate change}
    Let \(U \subseteq \realnumbers^n\) be an \openset
    and let \(x = (x^1, \cdots, x^n)\) denote the standard
    coordinates on \(U\). Then, a \emph{coordinate change}
    is a map
    \[\phi\colon U \fromto V\]
    where \(V\subseteq \realnumbers^n\) is also \openset[open], and
    \[
        \phi(x) = (y^1(x), \cdots, y^n(x))
    \]
    such that:
    \begin{enumerate}
        \item \emph{smoothness:} \(\phi\) is a \(\mathcal{C}^k\)-diffeomorfism;
        \item \emph{local invertibility:} the Jacobian matrix
        \(\jacobian_\phi(x)\) is invertible for all \(x\in U\).
    \end{enumerate}
\end{snippetdefinition}

\subsection{Examples}

\begin{snippetdefinition}{polar-coordinates-definition}{Polar coordinates}
    \emph{Polar coordinates} are defined as the \coordinatechange
    \[
        f \colon (0, +\infty) \cartesianprod (-\pi, \pi) \fromto
        \realnumbers^2 \difference \{(x,0) \in \realnumbers^2 \suchthat x \leq 0\}
    \]
    given by
    \[
        f(\rho, \theta) = (\rho\cos\theta, \rho\sin\theta)
    \]
\end{snippetdefinition}

\begin{snippetdefinition}{cylindrical-coordinates-definition}{Cylindrical coordinates}
    \emph{Cylindrical coordinates} are defined as the \coordinatechange
    \[
        f \colon (0, +\infty) \cartesianprod (-\pi, \pi) \cartesianprod \realnumbers \fromto
        \realnumbers^3 \difference \{(x,0,z) \in \realnumbers^3 \suchthat x \leq 0\}
    \]
    given by
    \[
        f(\rho, \theta, z) = (\rho\cos\theta, \rho\sin\theta, z)
    \]
\end{snippetdefinition}

\begin{snippetdefinition}{spherical-coordinates-definition}{Spherical coordinates}
    \emph{Spherical coordinates} are defined as the \coordinatechange
    \[
        f \colon (0, +\infty) \cartesianprod (0, \pi) \cartesianprod (-\pi, \pi) \fromto
        \realnumbers^3 \difference \{(x,0,z) \in \realnumbers^3 \suchthat x \leq 0\}
    \]
    given by
    \[
        f(\rho,\varphi,\theta) = (\rho\sin\varphi\cos\theta, \rho\sin\varphi\sin\theta,\rho\cos\varphi)
    \]
\end{snippetdefinition}

\begin{snippetproposition}{polar-coordinates-jacobian-and-det}{Jacobian and determinant of polar coordinates}
    We have
    \[
        \jacobian(\rho,\theta) = \begin{pmatrix}
            \cos\theta & -\rho\sin\theta \\
            \sin\theta & \rho\cos\theta
        \end{pmatrix}
    \]
    and \(\det \jacobian(\rho,\theta) = \rho\).
\end{snippetproposition}

\begin{snippetproposition}{cylindrical-coordinates-jacobian-and-det}{Jacobian and determinant of cylindrical coordinates}
    We have
    \[
        \jacobian(\rho,\theta,z) = \begin{pmatrix}
            \cos\theta & -\rho\sin\theta & 0 \\
            \sin\theta & \rho\cos\theta & 0 \\
            0 & 0 & 1
        \end{pmatrix}
    \]
    and \(\det \jacobian(\rho,\theta,z) = \rho\).
\end{snippetproposition}

\begin{snippetproposition}{spherical-coordinates-jacobian-and-det}{Jacobian and determinant of spherical coordinates}
    We have
    \[
        \jacobian(\rho,\varphi,\theta) = \begin{pmatrix}
            \sin\varphi\cos\theta & \rho\cos\varphi\cos\theta & -\rho\sin\varphi\sin\theta \\
            \sin\varphi\sin\theta & \rho\cos\varphi\sin\theta & \rho\sin\varphi\cos\theta \\
            \cos\theta & -\rho\sin\varphi & 0
        \end{pmatrix}
    \]
    and \(\det \jacobian(\rho,\varphi,\theta) = \rho^2 \sin\varphi\).
\end{snippetproposition}

\end{document}