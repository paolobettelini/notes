\documentclass[preview]{standalone}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{stellar}
\usepackage{definitions}
\usepackage{bettelini}

\begin{document}

\id{groups-direct-product}
\genpage

\section{External direct product}

\plain{The goal of the following definition is to construct a single group from various groups.}

\begin{snippetdefinition}{group-external-direct-product-definition}{External direct product of groups}
    Let \((G_1, \star_1), (G_2, \star_2), \cdots, (G_n, \star_n)\)
    be \group[groups].
    Then, their \emph{external direct product} is defined as the \group
    \((G, \star)\) where
    \[
        G = G_1 \cartesianprod G_2 \cartesianprod \cdots \cartesianprod G_n
    \]
    and
    \[
        (x_1, x_2, \cdots, x_n) \star 
        (y_1, y_2, \cdots, y_n) \triangleq
        (x_1 \star_1 y_1, x_2 \star_2 y_2, \cdots, x_n \star_n y_n)
    \]
\end{snippetdefinition}

\begin{snippettheorem}{external-direct-product-is-group-theorem}{External direct product is group}
    The external direct product of the \group[groups] \(G_1, G_2, \cdots, G_n\),
    is a \group \(G\). Furthermore, for \(1 \leq i \in \naturalnumbers \leq n\), the subset
    \[
        H_i = \left\{
            \left(
                1_{G_1}, 1_{G_2}, \cdots,
                x_i, 1_{G_{i+1}}, \cdots, 1_{G_n}
            \right) \suchthat x_i \in G_i
        \right\}
    \]
    is a \normalsubgrptext[normal subgroup] of \(G\) where \(H_i \groupisomorphic G_i\) and
    \begin{enumerate}
        \item \[G = \prod_{i=1}^n H_i \]
        \item \[
            H_i \intersection \prod_{\substack{k=1\\k \neq i}}^n H_k = 1, \quad 1 \leq i \in \naturalnumbers \leq n
        \]
    \end{enumerate}
\end{snippettheorem}

\begin{snippetproof}{external-direct-product-is-group-theorem-proof}{external-direct-product-is-group-theorem}{External direct product is group}
    We first show that \(G\) is a \group:
    \begin{enumerate}
        \item \emph{associativity}: trivial;
        \item \emph{identity element}: \((1_{G_1}, 1_{G_2}, \cdots, 1_{G_n})\);
        \item \emph{inverse element}: tuple of the inverses.
    \end{enumerate}
    Define \(\varphi_i \colon G_1 \to G\) as
    \[
        x\varphi_i \triangleq
        (1_{G_1}, 1_{G_2}, \cdots, x, 1_{G_{i+1}}, \cdots, 1_{G_n})
    \]
    The image is \(H_i\) and it is easy to check that \(\varphi\)
    is a \groupisomorphism between \(G_i\) and \(H_i\).
    We now show that \(H_1 \unlhd G\). Let
    \[
        (1_{G_1}, 1_{G_2}, \cdots, x, 1_{G_{i+1}}, \cdots, 1_{G_n}) \in H_i
    \]
    and \((g_1, g_2, \cdots, g_n) \in G\).
    We have
    \begin{align*}
        &\phantom{=}
        {(g_1, g_2, \cdots, g_n)}^{-1} (1_{G_1}, 1_{G_2}, \cdots, x, 1_{G_{i+1}}, \cdots, 1_{G_n})
        (g_1, g_2, \cdots, g_n) \\
        &= (1, 1, \cdots, g_i^{-1} x g_i, 1, \cdots, 1) \in H_i
    \end{align*}
    We will now show that \(G = H_1 H_2 \cdots H_n\):
    if \(g = (g_1, g_2, \cdots, g_n) \in G\) then
    \begin{align*}
        g = (g_1, 1, 1, \cdots, 1) (1, g_2, 1, \cdots, 1) \cdots (1,1,\cdots, g_n)
    \end{align*}
    Note that this product is also unique.
    We will now show that \(H_i \intersection H_1H_2\cdots H_{i-1} H_{i+1} \cdots H_n = 1\).
    Without loss of generality let \(i=1\).
    We have \(g = H_1 \intersection H_2 H_3 \cdots H_n\) which means that both
    \[
        g = (g_1, 1, 1, \cdots, 1) \in H_1
    \]
    and
    \[
        g = (1, g_2, 1, \cdots, 1)(1,1,g_3, \cdots, 1) \cdots (1,1,\cdots 1, g_n) \in H_2H_3\cdots H_n
    \]
    need to be true. Thus, \(g_1 = 1, g_2 = 1, \cdots, g_n = 1\), meaning \(g = (1,1,\cdots, 1) = 1_G\).
\end{snippetproof}

\begin{snippetproposition}{external-direct-product-abelian-iff-groups-are}{}
    The external direct product of the \group[groups]
    \(G_1, G_2, \cdots, G_n\)
    is an \abeliangroup \ifandonlyif \(G_i\) is \abeliangroup[abelian].
\end{snippetproposition}

\begin{snippetproof}{external-direct-product-abelian-iff-groups-are-proof}{external-direct-product-abelian-iff-groups-are}{}
    Consider two elements \[(g_1, g_2, \cdots, g_n), (h_1, h_2, \cdots, h_n) \in G_1 \cartesianprod G_2 \cartesianprod \cdots \cartesianprod G_n \]
    The product is \abeliangroup[abelian] \ifandonlyif
    \begin{align*}
        (g_1, g_2, \cdots, g_n)(h_1, h_2, \cdots, h_n)
        &=
        (h_1, h_2, \cdots, h_n)(g_1, g_2, \cdots, g_n) \\
        (g_1h_1, g_2h_2, \cdots, g_nh_n)
        &=
        (h_1g_1, h_2g_2, \cdots, h_2g_n)
    \end{align*}
    which only happens \ifandonlyif \(h_ig_i = g_ih_i\) and thus
    \ifandonlyif \(G_i\) is \abeliangroup[abelian].
\end{snippetproof}

\begin{snippetproposition}{external-direct-product-permutation-isomorphism}{}
    Let \(G_1, G_2, \cdots, G_n\) be \group[groups]
    and let \(\sigma \in \permgrp_n\). Then,
    \[
        G_1 \cartesianprod
        G_2 \cartesianprod
        \cdots \cartesianprod
        G_n
        \groupisomorphic
        G_{\sigma(1)} \cartesianprod
        G_{\sigma(2)} \cartesianprod
        \cdots \cartesianprod
        G_{\sigma(n)}
    \]
\end{snippetproposition}

\subsection{Periods and ciclicity}

\begin{snippetproposition}{external-direct-product-element-period}{}
    Let \(G_1, G_2, \cdots, G_n\) be \group[groups]
    and \(G = G_1 \cartesianprod G_2 \cartesianprod \cdots \cartesianprod G_n\).
    Consider an element \((g_1, g_2, \cdots, g_n) \in G\).
    Then,
    \[
        \elementperiod{(g_1, g_2, \cdots, g_n)}
        = \lcm(
            \elementperiod{g_1},
            \elementperiod{g_2},
            \cdots,
            \elementperiod{g_n}
        )
    \]
    If at least one of \(g_1, g_2, \cdots, g_n\) has infinite \elementperiodtext,
    then \(\elementperiod{(g_1, g_2, \cdots, g_n)} = \infty\).
\end{snippetproposition}

\begin{snippetproof}{external-direct-product-element-period-proof}{external-direct-product-element-period}{}
    Even if only one of them has infinite \elementperiodtext
    (meaning \(x_i^r = 1\) \ifandonlyif \(r=0\)), we have that
    \[
        {(x_1, x_2, \cdots)}^r = (x_1^r, x_2^r, \cdots) = (1,1,\cdots)
    \]
    \ifandonlyif \(r=0\), meaning that is also has infinite \elementperiodtext.
    If instead they have finite \elementperiodtext (\(d_1\cdots d_n\) respectively)
    we have that the period is \(\lcm(d_1, d_2, \cdots)\).
\end{snippetproof}

\begin{snippettheorem}{external-direct-product-cyclicity-theorem}{}
    Let \(G_1, G_2, \cdots, G_n\) be \group[groups]
    and \(G = G_1 \cartesianprod G_2 \cartesianprod \cdots \cartesianprod G_n\).
    Then,
    \begin{enumerate}
        \item if \(G\) is \cyclicgroup[cyclic], then \(G_i\) is \cyclicgroup[cyclic];
        \item if at least one of \(G_i\) is an infinite \cyclicgroup, then \(G\) is not cyclic;
        \item suppose \(n>1\) and \(G_i\) are non-trivial \cyclicgroup[cyclic groups]. Then,
            \(G\) is \cyclicgroup[cyclic] \ifandonlyif \(G_i\) are finite \cyclicgroup[cyclic groups]
            with \coprime orders among eachother.
    \end{enumerate}
\end{snippettheorem}

\begin{snippetproof}{external-direct-product-cyclicity-theorem-proof}{external-direct-product-cyclicity-theorem}{}
    \begin{enumerate}
        \item We know that each \(G_i\) is isomorphic to a \subgroup \(H_i\) of \(G\).
        If at least one of the \(G_i\) is not \cyclicgroup[cyclic], then \(G\)
        is not \cyclicgroup[cyclic].
        \item Let's assume that they are all \cyclicgroup[cyclic].
        If \(n=1\), clearly \(G=G_1\) and thus it is \cyclicgroup[cyclic].
        This is a trivial case, as well as the one where some of the \(G_i\)
        are trivial, meaning that they do not contribute.
        We thus consider the non-trivial case \(n>1\) with \(G_i\) is not trivial.
        We know that \(G\) contains \subgroup[subgroups]
        \(H_1, H_2, \cdots, H_n\) isomorphic to \(G_1, G_2, \cdots, G_n\),
        thus the \(H_i\) are not trivial and furthermore
        \[
            H_1 \cap H_2H_3 \cdots H_r = 1
        \]
        meaning that there exist non-trivial \subgroup[subgroups]
        \(H_1\) and \(H_2H_3 \cdots H_r\) in \(G\) with trivial intersection.
        But such a thing cannot happen in an infinite \cyclicgroup \(C = \langle g \rangle\).
        Indeed, the non-trivial \subgroup[subgroups] of \(C\) have form \({\langle g^t \rangle}\)
        where \(t\neq 0\) and \(\langle g^t \rangle \cap \langle g^s \rangle\)
        where \(t, s \neq 0\) is not trivial.
        The intersection is \(\langle g^u\rangle\) with \(u=\lcm(t, u)\).
        Thus, \(G\) G is not \cyclicgroup[cyclic].
        \item Consider the case where they are finite with orders \(d_1, d_2, \cdots, d_n\).  
        Now \[
            |G| = \prod_i |G_i| = \prod_i d_i
        \]
        An element of \(G\) has \elementperiodtext \(\prod_i d_i\) if \(d_i\) are \coprime.  
        If they are not \coprime, there is a common divisor in the table of cyclic factorizations,
        and therefore we have more \subgroup[subgroups] of the same order, meaning the group is not \cyclicgroup[cyclic]. \\
        \iffproof{
            Suppose at least two among \(d_i\) are not \coprime, for example \(d_1\) and \(d_2\),
            and let
            \\ \(d = \lcm(d_1, d_2) \neq 1\).  
            Now, \(G_1\) and \(G_2\) contain \subgroup[subgroups] of order \(d\), and therefore \\
            the same is true for \(H_1 \groupisomorphic G_1\) and \(H_2 \groupisomorphic G_2\).  
            But then, these two \subgroup[subgroups] of \(G\) of \\ order \(d\) are distinct because their
            intersection is contained in \(H_1 \intersection H_2 = 1\). \\
            A finite \cyclicgroup does not contain two distinct \subgroup[subgroups] of the same order. \\
            Therefore, \(G\) is not \cyclicgroup[cyclic].
        }{
            If \(d_1, d_2, \cdots, d_n\) are pairwise \coprime and \(g_1, g_2, \cdots, g_n\) are elements of
            \\ \(G_1, G_2, \cdots, G_n\)
            of \elementperiodtext \(d_1, d_2, \cdots, d_n\), then  
            \[
                |(g_1, g_2, \cdots, g_n)| = \lcm(d_1, d_2, \cdots, d_n)
            \]  
            That is, \((g_1, g_2, \cdots, g_n)\) generates a \subgroup of order \(d_1d_2\cdots d_n\),
            which therefore \\ coincides with \(G\).  
        }
    \end{enumerate}
\end{snippetproof}

\section{Internal direct product}

\plain{The goal of the following definition is to decompose a single group into various groups.}

\begin{snippetdefinition}{group-internal-direct-product-definition}{Internal direct product of group}
    Let \(G\) be a \group where \(H_1, H_2, \cdots, H_n\)
    are \normalsubgrptext[normal subgroups] of \(G\).
    Then, \(G\) is the \emph{internal direct product} of
    the \(H_i\) \group[groups] if:
    \begin{enumerate}
        \item \[G = \prod_{i=1}^n H_i \]
        \item \[
            H_i \intersection \prod_{\substack{k=1\\k \neq i}}^n H_k = 1, \quad 1 \leq i \in \naturalnumbers \leq n
        \]
    \end{enumerate}
\end{snippetdefinition}

\plain{The internal direct product and the external direct product are fundamentally the same concept.}

\begin{snippettheorem}{internal-direct-external-product-isomorphism-theorem}{Isomorphism between internal and external product}
    Let \(G\) be an internal direct product of
    \(H_1, H_2, \cdots, H_n\). Then,
    \[
        G \groupisomorphic H_1 \cartesianprod H_2 \cartesianprod \cdots \cartesianprod H_n
    \]
\end{snippettheorem}

\begin{snippetlemma}{normal-subgroups-commutativity-special-case}{Normal subgroup commutativity}
    Let \(H\) and \(K\) be \normalsubgrptext[normal subgroups] of \(G\)
    such that \(H \intersection K = 1\). Then, \(hk=kh\)
    for every \(h\in H\) and \(k\in K\).
\end{snippetlemma}

\begin{snippetproof}{normal-subgroups-commutativity-special-case-proof}{normal-subgroups-commutativity-special-case}{Normal subgroup commutativity}
    Consider the commutator of
    \(h\) and \(k\), meaning the element \(x\)
    such that \(hk = khx\). We need to show that \(x=1\).
    Now, \(x = h^{-1} k^{-1} h k\), and thus \(x = h^{-1} h^k\).
    The first member is in \(H\), and the second member is too as \(H\) as \normalsubgrptext.
    Likewise, \({(k^{-1})}^h \in K\).
    Thus, \(x \in H \intersection K\) and the commutator \(x = 1\).
\end{snippetproof}

\begin{snippetproof}{internal-direct-external-product-isomorphism-theorem-proof}{internal-direct-external-product-isomorphism-theorem}{Isomorphism between internal and external product}
    Consider the \function \(\varphi \colon H_1 \cartesianprod H_2 \cartesianprod \cdots \cartesianprod H_n \fromto G\)
    defined as
    \[
        \varphi((x_1, x_2, \cdots, x_n)) \triangleq \prod_{i=1}^n x_i
    \]
    which we can do since all the \subgroup[subgroups] have the same \binoperation. \\
    We will now show that such \function is a \grouphomomorphism:
    \begin{align*}
        (x_1, x_2, \cdots, x_n)(y_1, y_2, \cdots, y_n)
        \to x_1y_1x_2y_2 \cdots x_ny_n
    \end{align*}
    we must thus show that \[x_1x_2\cdots x_n y_1y_2 \cdots y_n = x_1y_1x_2y_2 \cdots x_ny_n\]
    We will use \snippetref[normal-subgroups-commutativity-special-case][normal subgroup commutativity].
    Since \(H_i \cap H_j = 1\) if \(i \neq j\),
    we have that \(x_i y_i = y_j x_i\) for \(i \neq j\).
    It is sufficient for each to commute with the previous one as long as the equation holds.
    \\
    We will now show that such \function is \bijective:
    Since \(G = H_1H_2\cdots H_n\), the \grouphomomorphism is \surjective.
    Indeed, of \(g = h_1h_2 \cdots h_n\) with \(h_i \in H_i\),
    then \(g\) is the image of \((h_1, h_2, \cdots, h_n)\).
    The \grouphomomorphism is \injective as the kernel is given by the tuples
    \[
        \grpker \varphi = \{(x_1, x_2, \cdots, x_n) \suchthat x_1x_2 \cdots x_n = 1\}
    \]
    If \(x_1x_2 \cdots x_n = 1\), then \(x_1^{-1} = x_2x_3\cdots x_n\).
    But then \(x_1^{-1} \in H_i\) and \(x_2 \cdots x_n \in H_2 H_3 \cdots H_n\).
    Thus, since \(H_1 \intersection H_2H_3 \cdots H_n = 1\),
    it follows that \(x_1 = 1\) e \(x_2x_3\cdots x_n = 1\).
    We proceed by \principleofinduction[induction] to arrive at
    \(x_2 = x_3 = \cdots = x_n = 1\).
    Thus,
    \[
        \grpker \varphi = \{(1,1,\cdots, 1)\}
    \]
\end{snippetproof}

\section{Applications}

\begin{snippettheorem}{direct-product-quotient-isomorphism-theorem}{Isomorphism between direct product quotients and subgroups}
    Let \(G\) be the direct product of two \subgroup[subgroups] \(H\) and \(K\). Then,
    \[
        \frac{G}{H} \groupisomorphic K
        \land
        \frac{G}{K} \groupisomorphic H
    \]
\end{snippettheorem}

\begin{snippetproof}{direct-product-quotient-isomorphism-theorem-proof}{direct-product-quotient-isomorphism-theorem}{Isomorphism between direct product quotients and subgroups}
    By the isormophism theorems,
    \[
        \frac{HK}{K} \groupisomorphic \frac{H}{K \intersection H}
    \]
    In this case \(HK = G\) and \(K \intersection H = 1\). We thus have
    \(G/K \groupisomorphic H/1 \groupisomorphic H\).
    (The quotient group of a coset is the singletons as teo elements are equivalent \ifandonlyif they are equal).
\end{snippetproof}

\begin{snippet}{unique-decomposition-direct-product-condition-expl}
    This isomorphism tells us that it is possible to write uniquely
    (unique decomposition) \(h_1h_2\cdots h_n\) because there is a \bijective[bijection].
\end{snippet}

\begin{snippettheorem}{classification-finite-group-order-p-squared-theorem}{Classification of finite groups of order \(p^2\)}
    Let \(G\) be a \group of order \(p^2\) with \(p\) \primen.
    Then,
    \[
        G \groupisomorphic C_{p^2}
        \lor
        G \groupisomorphic C_p \cartesianprod C_p
    \]
\end{snippettheorem}

\begin{snippetproof}{classification-finite-group-order-p-squared-theorem-proof}{classification-finite-group-order-p-squared-theorem}{Classification of finite groups of order \(p^2\)}
    \todo
\end{snippetproof}

\end{document}