\documentclass[preview]{standalone}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{tikz}
\usepackage{float}
\usepackage{xcolor}
\usepackage{stellar}
\usepackage{definitions}

\begin{document}

\id{differentiation-basic-results}
\genpage

\section{Intermediate value Theorem}

\begin{snippettheorem}{intermediate-value-theorem}{Intermediate value Theorem}
    A \function \(f\) continuous on an interval \([a;b]\) will take
    every value in the interval \([f(a);f(b)]\).
\end{snippettheorem}

\section{Bolzano's Theorem}

\begin{snippettheorem}{bolzano-theorem}{Bolzano's Theorem}
    If \(f(x)\) is continuous on \([a;b]\) and \(f(a)\cdot f(b) <0\) then there is a root.
    \[
        f(a)\cdot f(b) <0 \implies \exists c \in [a;b] \mid f(c) = 0
    \]
\end{snippettheorem}

\section{Weierstrass Theorem}

\begin{snippettheorem}{weierstrass-theorem}{Weierstrass Theorem}
    If \(f(x)\) is continuous in \([a;b]\) then the function will have a maxima and a minima.
\end{snippettheorem}

\section{Rolle's Theorem}

\begin{snippettheorem}{rolle-theorem}{Rolle's Theorem}
    Suppose that \(f(x)\) is continuous on \([a;b]\) and \differentiable on \((a;b)\).
    \[
        f(a)=f(b) \implies \exists \,c \suchthat f'(c) = 0, \quad
        a < c < b
    \]
\end{snippettheorem}

\section{Mean Value Theorem}

\begin{snippettheorem}{mean-value-theorem}{Mean Value Theorem}
    Suppose \(f(x)\) is a \function continuous on \([a;b]\) and
    differentiable on \((a;b)\), there there exists a number \(c\) such that
    \[
        f'(x)=\frac{f(b)-f(a)}{b-a}, \quad a<c<b
    \]
\end{snippettheorem}

\begin{snippet}{mean-value-theorem-illustration}
    \begin{minipage}{0.5\textwidth}
        \begin{tikzpicture}[
            declare function={
                func(\x) = - \x * \x * 0.5 + 3 * \x - 1.5;
                a = 1;
                b = 4.5;
                c = 2.75;
                Width=5;
                Height=4;
                m = {(func(b) - func(a)) / (b-a)};
            }
        ]

            \draw[domain=a:b, smooth, variable=\x, blue, very thick] plot ({\x}, {func(\x)});
            \draw[domain=a:b, smooth, variable=\x, brown, thick, dashed] plot ({\x}, {m * \x + 2.28125});
            
            \draw[-, dashed] (a, 0) node[below] {\(a\)} -- (a, {func(a)}) node[left] {\(f(a)\)};
            \draw[-, dashed] (b, 0) node[below] {\(b\)} -- (b, {func(b)}) node[right] {\(f(b)\)};
            \draw[-, dashed] (c, 0) node[below] {\(c\)} -- (c, {func(c)});

            \draw[-, brown, thick] (a, {func(a)}) -- (b, {func(b)});
            
            \filldraw [red] (a,{func(a)}) circle (2pt);
            \filldraw [red] (b,{func(b)}) circle (2pt);
            \filldraw [red] (c,{func(c)}) circle (2pt) node[above, black] {\(f(c)\)};

            \draw[->] (0, 0) -- (Width, 0) node[right] {\(x\)};
            \draw[->] (0, 0) -- (0, Height) node[above] {\(y\)};
        \end{tikzpicture}
    \end{minipage}
    \begin{minipage}{0.5\textwidth}
        The mean value on the interval can be represented by the {\color{brown} secant} line.
        What this means is that the interval contains a point whose tangent is equal to the secant.
        \\\\
        Note that if \(f(a) = f(b)\) this is Rolle's theorem.
    \end{minipage}
\end{snippet}

\section{Lagrange theorem}

\begin{snippettheorem}{lagrange-theorem-theorem}{Lagrange theorem}
    Let \(f \colon [a,b] \fromto \realnumbers\) such that
    \begin{enumerate}
        \item continuous in \([a,b]\);
        \item differentiable in \((a,b)\).
    \end{enumerate}
    Then, there exists \(\xi\in(a,b)\) such that
    \[
        \frac{f(b) - f(a)}{b-a} = f'(\xi)
    \]
\end{snippettheorem}

\plain{The tangent line always exists as the function is differentiable.}

\begin{snippetproof}{lagrange-theorem-theorem-proof}{lagrange-theorem-theorem}{Lagrange theorem}
        We want to apply \snippetref[rolle-theorem][Rolle's theorem],
        but the condition is that \(f(a)=f(b)\).
        Thus, we subtract from \(f\) the line
        \[
            \varphi(x) = f(x) - \left[
                f(a) + \frac{f(b) - f(a)}{b-a}(x-a)
            \right]
        \]
        which is an affine function.
        Such \function is continuous \([a,b)\),
        since it remains differentiable, and \(\varphi(a) = \varphi(b) = 0\).
        Finally, \snippetref[rolle-theorem][Rolle's theorem], there exists \(\xi\in (a,b)\)
        such that
        \[
            \varphi(\xi) = f'(\xi) - \frac{f(b) - f(a)}{b-a} = 0
        \]
        from which we get \(f'(\xi) = \frac{f(b) - f(a)}{b-a}\)
\end{snippetproof}

\end{document}