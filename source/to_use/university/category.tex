\documentclass[a4paper]{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{stellar}
\usepackage{parskip}
\usepackage{fullpage}
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{tikz}

\usetikzlibrary{arrows}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{cd}

\title{Category theory}
\author{Paolo Bettelini}
\date{}

\begin{document}

\maketitle
\tableofcontents

% https://categorytheory.gitlab.io/functor_and_natural_transformation.html#index-0

\section{Categorie}

Se un oggetto iniziale esiste in una categoria allora è unico a meno di isomorfismo.
Se esistessero due oggetti iniziali \(0\) e \(0'\), allora ci deve essere
un morfismo fra \(0\) e \(0'\) e uno fra \(0\) e \(0'\).
Dalla definizione tale morfismo è isomorfismo.
Il duale è il medesimo teorema con l'oggetto terminale.

Studiamo cosa sono gli oggetti iniziali nella categoria Sets.
Se consideriamo l'insieme vuoto, vi è una e una sola funzione che colla tale insieme
a tutti gli altri. Quindi l'insieme vuoto è l'oggetto iniziale della categroia Sets.

Invece, l'oggetto terminale è il singoletto della categoria Sets.
Infatti tutti i singoletti sono isomorfi fra loro.

L'uguaglianza degli insiemi diventa isomorfismo nelle categorie.
Possiamo dare un complementare dell'assioma dell'estensionabilità
nelle categoria, cioè due oggetti sono uguali se hanno gli stessi elementi generalizzati.

\subsection{Tipi di categorie}

La categoria Set, Top, Gr, Rng, Vect/K, T-mod(Set).

Possiamo costruire la categoria discreta data un insieme, i cui oggetti sono gli elementi
e le cui freccie sono solo le identità.

Possiamo fare una categoria da un preordine.
Essa ha al massimo un morfismo fra due oggetti distinti.
Esercizio: queste categorie sono tutte quelle indotte da un preordine.

Possiamo fare una categoria con un singolo oggetti (monoide).

Possiamo fare un groupoide: una categoria con soli isomorfismi.
In particolare se un grupoide ha solo un oggetto allora è un gruppo.

La categoria Cat è la categoria di tutte le categorie (piccole)
dove i morfismi sono funtori

Mettere l'esempio del funtore duale fra spazi vettoriali.
Il doppio duale è una trasformazione naturale.

\section{Funtori}

Date due categorie \(\mathcal{C},\mathcal{C}'\)
possiamo definire TODO
la categoria \([\mathcal{C}, \mathcal{C}']\)
dei funtori da \(\mathcal{C}\) a \(\mathcal{C}'\)
dove gli oggetti sono i funtori da \(\mathcal{C}\) a \(\mathcal{C}'\),
i morfismi sono le trasformazioni naturali, e la composizione è componente per componente.

\sexercise{}{
    Una trasformazione naturale
    è un isomorfismo naturale se e solo se
    tutte le sue componenti sono degli isomorfimsmi nella categoria d'arrivo.

    %%%%%%%%%
    Dalla definizione \(\alpha\) ammette un inverso nella categoria \textbf{Cat}.
    Cioè due funtori sono naturalmente isomorfi se sono oggetti isomorfi in \([C, C']\).
    L'esercizio richiede di costruire una trasformazione naturale inversa e verificare che sia ancora naturale.
    Quindi esiste \(\alpha'\) tale che \(\alpha \circ \alpha' = 1\) e \(\alpha' \circ \alpha = 1\).
    Se nel diagramma della trasformazione naturale inverto le freccie di \(\alpha\)
    la commutatività vale ancora, ma nell'altra direzione.
}

TODO definizione dull and faithful functors and subcategory.
Non definiamo una nozione di suriettività fra oggetti in quanto l'uguaglianza fra oggetti non è robusta.
Vogliamo non distinguere oggetti essenzialmente uguali. L'ugualignza diventa l'isomorfismo.
Infatti la suriettività essenziale usa un isomorfismo.

Nella definizione del funtore sottocategoria, il functore è sempre federale, ma non necessariamente full.

\sdefinition{Category equivalence}{
    TODO
    Anche qui non usiamo l'uguaglianza ma l'isomorfismo.
}

\stheorem{}{
    Under the axiom of choice a functor is part of an equivalence of categories if and only if
    it is full, faithful and essentially surjective.
}

\sproof{}{
    \iffproof{
        Trivial check. (Exercise) Non richiede l'assioma della scelta.
    }{
        Dobbiamo costruire un funtore \(G\) che sia un inverso.
        Quindi dobbiamo effettuare delle scelte.
    }
}

Questa nozione ci dice che usando AC possiamo definire un quasi-inverso,
che non è unico. Ma in generale i funtori per cui devo eseguire una scelta non sono
particolarmente interessanti.

% sga1 grothendick

Dato un funtore \(F\) possiamo considerare \(\text{End}(F)\)
che è il monoide delle trasformazioni naturali da \(F\) a \(F\).
In particolare, comprende gli automorfismi e quindi il gruppo
\(\text{Aut}(F)\). Nel contesto degli insiemi mancano
le componenti, che sono i morfismi (a parte l'identità).
Quindi questo contetto diventa banale.

Mettere i 3 esempi di functor categories.
La composizione della functor category è componente per componente

% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRADEQBfU9TXfIRQBGclVqMWbAOLdeIDNjwEiAJjHV6zVohAAJbuJhQA5vCKgAZgCcIAWyRkQOCElEgGWMDpBQITACMGVmoACxg6KCQwJgYGahw6LAY2SG8QTUkfAB1sxjRQujkrWwdEdxckdQ8vHz9A4IyQcMjo2PjnJJTdNJCJbTZcgJhE4pAbe0cE10Rq4bAoxABaAGYnLSldAApc-MKAAl24HEPs4cSASi26C-2AXlPzui2AY1vcl6xrF9O955umgw6MMGAAFfjKIQgaxYEyhHCGLhAA
\begin{tikzcd}
F \arrow[r, "\alpha", Rightarrow] \arrow[rr, "(\alpha \ast \beta)(a) = \beta(c) \circ \alpha(a)"', bend right] & G \arrow[r, "\beta", Rightarrow] & H
\end{tikzcd}

\section{3 Esempi}

Esempio 2:
Chiamiamo \(X\) l'insieme.
Visto che \(\tau\) è un endomorfismo di \(X\), prendiamo il prodotto
cartesiano e otteniamo una azione sinistra.
Se volessimo l'azione destra potremmo prendere il duale del monoide.

La condizione di naturalezza corrisponde con
la condizione che \(f\) sia una funzione equivariante, cioè rispetta
l'azione (M-equivariante).
\[
    m \ast' f(\ast) = f(m \ast x)
\]
cioè è compatibile con le due azioni,
di \(M\) su \(X\) e di \(M\) su \(Y\).

Quindi la categoria studiata è la categoria delle azioni sinistre
su insiemi e delle mappe M-equivariante fra loro.

Esempio 3:
Non abbiamo condizioni di naturalità nel senso che escludiamo
le identità che sono banali.
Le trasformazioni naturali corrispondono a famiglie
di funzioni

\sdefinition{Slice category}{
    La composizione è data dai morphism \(h\colon a \to b\)
    tale che il diagramma commuta
}

% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRDpAF9T1Nd9CKAEzkqtRizYAjLjxAZseAkQCMpFWPrNWiEAGMuYmFADm8IqABmAJwgBbJGRA4ISNeO1sAFrKu2HiO4uSCIekromviA29o7UwYihWuHRINQMdFIwDAAKfEqCINZYJl44hpxAA
\begin{tikzcd}
a \arrow[rr, "h"] \arrow[rd, "f"'] &   & b \arrow[ld, "g"] \\
                                   & c &                  
\end{tikzcd}

\sexercise{}{
    Show that for any set \(I\),
    set slice category \(\mathbf{Sets}/I\)
    is equivalent to the category \([I, \mathbf{Set}]\)
    (which is the disjoint union).

    Partiamo da una collezione di insiemi indicizzata e la mando
    nell'unione disgiunta degli \(A_i\) per formare la mappa canonica
    invertibile: \((x, i) \to i\) e nell'altra direzione,
    partendo da un insieme \(A\) con \(f \colon A \to I\),
    associo la controimmagine (che in questo caso posso fare in generale).
    Quindi prendo le fibre \(\{f^{-1}(i) \,|\, i \in I\}\).
    Dibbiamo verificare i dettagli.
}

C'è un equivalenza fra le categorie indicizzate e la nozione di fibrazione
(che sono dei funtori).
Il risultato che forma ciò è Grothendieck's equivalence between
indexed categories and fibrations.
Le indexed categories generalizzano i funtori \(I \to \mathbf{Sets}\),
dove \(I\) viene sostituita dalla categoria delle categorie piccole,
e i funtori dagli pseudofuntori.
Le fibrazioni generalizzano gli oggetti si \(\mathbf{Sets}/I\).

\section{Suboject}

è la generalizzazione categorica dei sottoinsiemi.
Anche qua il triangolo con i due monomorfismi e il morfismo sopra deve commutare.
Ciò è equivalente (piccola verifica esericizio)
al fatto che siano isomorfe come oggetti nelle categoria slice.

Dobbiamo considerare le classi di equivalenza altrimenti non riusciamo
ad identificare...

Dualizzando i monomorfismi otteniamo gli epimorfismi e quindi dualizzando
otteniamo i quozienti (su un categoria che deve essere esatta).

\sdefinition{Balanced category}{
    A category is said to be balanced
    if epi and mono => iso.
}


%%%% TUTORAGGIO 1
% In Ring, the category of rings with
% homomorphism i: Z -> Q
% is mono (just like in Set)
% but it is an epimorphism
% Diagramma Z -> Q ->-> A
% inverse of elements in rings are preserved by ring homomorphism
% xy = 1 in Q, then g1(x) = g2(y)^{-1}
% since g1(xy) = g1(x)g(2) and thus g1(1Q) = 1A
% So we have p/q \in Q with p,q in Z
% and g1(p/q)= g1(p) g1(q)^{-1} = g1(i(p)) g1(i(q))^{-1}
% so g1 and g2 agree on each rational if and only if g1=g2
% meaning g1i = g2i iff g1=g2
% HOWEVER it is not an isomorphism

% another exampl of unbalanced category is the posets. (non-trivial)
% è mono e epi perché nel diagramma g1=g2 per definizione (ci può essere solo una freccia fra due oggetti)
% MA non è iso

% Grp is balanced come le funzioni.

% In a category C, if f: x->y is an epi such that
% there exist s: y->z with fs = 1_x, then f is iso
% (f is called a split-mono).
% It is indeed a mono:
% Se abbiamo il diagramma w -g1g2-> x -> y
% tale che fg1 = fg2, then we postcompose it with s
% and sfg1 = sfg2
% che è come dire 1_x g1 = 1_x g2 quindi g1 = g2
% and thus f is mono
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRAHUQBfU9TXfIRQBGclVqMWbABrdeIDNjwEiAJjHV6zVohABNOXyWC1pYeK1TdALW7iYUAObwioAGYAnCAFskZEDgQSKIgcAAWWG44wZqSOiCOAPqqINQMdABGMAwACvzKQiAeWI5h0TzuXr6I-oExoRFRSAC0IZbxScKGIJ4+9XWI6hLabG7dvdVDAwDMsSO6CFwUXEA

% Proposition: if f is a split mono
% and epi, then it is iso:
% sf=1_x and thus s is a good candidate for the inverse.
% We need to check the other composition fs=1_y
% We have: sf = 1_x and we compose with f
% fsf = f1_x
% we want to show fsf = 1_y f
% since f is an epimorphism
% we can left-cancel it so 1_y f 
% This is given by the epimorphism diagram where g1 = fs and g2 = 1_y

% By duality, this gives us:
% an arrow that is mono + split-epi is an isomorphism.

% DEF: an homotopy in a topological space X 
% is a continuous function H: X \times [0;1] \to X
% where [0;1] is the usual topology
% and \times is the product topology

% A natural transformation is the same concept but for two categories.

% DEF product category:
% the objects are the pair of objects (c1, c1')
% the arrows are (c1, c1')  -- (f,f') --> (c2, c2')
% which are pairs of arrows f: c1\to c2 and f': c1' \to c2'
% Composition defined component wise.

% Consider the category with 2 objects (0 and 1) and 1 arrow, denoted \mathbb{1}
% and let C be a category. We can form the product category
% \mathbb{1} \times C.

% Consider the categories C and D with two functors F,G from C to D.
% Then a functor C \times \mathbb{1} --\alpha--> D
% making the following diagram commute
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRAGEQBfU9TXfIRQBGclVqMWbdgAIAOnLwBbePLlK6OABYAjHcGFduvEBmx4CRAExjq9Zq0Qdjfc4KKjh4+1KcARbnEYKABzeCJQADMAJwglJDIQHAgkAGY7SUcQADEQagY6HRgGAAV+CyEQaKwQrRwXEBi4pBsklMR0iQc2AHEGpvjEROSkUS7fECwAfWJ+2MHWkcQxnyzp4TyQAqLS8vcnatr6nij50eolztW2BUY0LTpAriA
% corresponds exactly to a natural transformation
% from F --\beta--> G
% Let us show it:
% since we ask for the left part to commute and the right part,
% \alpha(c, 0) = F(c)
% and \alpha(c, 1) = G(s)
% And arrow in this product category (c,0) --(1_c, u)--> (c, 1) is given by a pair of arrows,
% where u is the non-trivial arrow in the category \mathbb{1} from 0 to 1.
% Quindi possiamo mappare F(c) e G(c) con \beta_c e \alpha
% Naturalità:
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZARgBoAGAXVJADcBDAGwFcYkQAxACgGMByAJQgAvqXSZc+QijLFqdJq3YBxXoJFiQGbHgJFyFeQxZtEnXkNHidU-aTk1jSs6p6X5MKAHN4RUADMAJwgAWyQAJhocCCQAZkdFUxAAHWSAIxgcegB9HhAaRnoMxgAFCV1pEECsLwALHA0A4LDEAxBopDIFE3ZUjKzs4H5hRpAg0IiomNaEnrNuf0tNcZb49umupyTVLyECophS8tszarqG4UphIA
% the bottom line is \alpha(c; 1) -- \alpha(f, 1_1) --> \alpha(c', 1)
% where f is the arrow from c to c' and 1 is the arrow identity of 1.
% by the commutativity of the triangular diagram, alpha(f, 1_1) = G(f)
% on the left arrow we have alpha(c,0) -- alpha(1_C, u) --> alpha(c, 1)
% Since composition is component wise,
% (1_C, u) \circ (f, 1_0)
% = (1_C \circ f, u \circ 1_0) = (f,u)
% and on the other side (f, 1_1) \circ (1_c, u)
% = (f \circ 1_c, 1_1 \circ u) = (f,u)
% We also have \beta_c F(c) = alpha(1_c, u) \circ alpha(f, 1_0)
% which is the inner composition alpha((1_c, u) \circ (f, 1_0))
% but we just showed that this is equal to alpha(f,u)
% which is also equal to alpha((f, 1_1) \circ (1_C, u))
% = alpha(f, 1_1) \circ alpha(1_C, u) = G(f) \beta_c
% Quindi \beta naturale. Bisogna mostrare l'altra direzone

% Esercizio opzionale:
% Un functore C \times \mathbb{1} \to D
% è equivalente alla scelta dei due funtori
% C == F, G ==> D
% together with a natural transformation F =\beta=> G

%%%%%
% PROP: If F: C \to D is fully faithful and F(c) \cong F(c'),
% then c \cong c'
% PROOF:
% Let sigma: F(c) \to F(c') be an isomorphism
% Since F is full, we have sigma': c \to c'
% such that F(\sigma') = sigma
% We also have \sigma^{-1]: F(c') \ŧo F(c)
% by fullness of F, there is \sigma'': c' -> c
% such that F(sigma'') = sigma^{-1}
% Then, F(\sigma' \sigma'') = F(\sigma') \circ F(\sigma '')
% = sigma \circ sigma^{-1} = 1_{c'}
% Since F is faithfull,
% \sigma \circ \sigma'' = 1_{c'}
% since there is only one such arrow
% By the same reasoning, \sigma'' \circ \sigma' = 1_c
% Thus c \cong c'


%%%%%
%PROP: Under AC....
% Consider F: C \to D.
% <= We want to construct an "inverse" G: D \to C
% By essential surjectivity, we have F(c) \cong d
% Define c_d \triangleq G(d)
% Now let f\colon d' \to d be an arrow in D.
% We have FG(d) = F(c_d) \cong d via some isomorphosim \alpha_d
% and FG(d') = F(c_{d'}) \cong d' via come isomorphism \alpha_{d'}.
% Thus, we compose it to go from FG(d') to FG(d)
% such that \alpha_d^{-1} \circ f \circ \alpha_{d'}
% We wanted an arrow from G(d') to G(d).
% Since F is full, there exist
% an arrow G(f): G(d') \to G(d)
% such that F(g(f)) = \alpha_d^{-1} \circ f \circ \alpha_d
% We need to check functoriality:
% We have the isomorphism alpha_d: F(g(d)) \to d.
% We want to show that GF(c) \to c is an isomorphism.
% We apply F and show FGF(c) \cong F(c)
% Since F is fully faithful, GF(c) \cong c
% (by the previous proposition).


%%% Equivalence between [I, Set] and Set/I
% Consider [I, Set]
% A functor lambda. f: I \to Set is a I-family of sets \(\{E_i\}_{o \in I}\).
% A natural transformation between f and g
% is a indexed set of functions
% Now consider Set/I
% rimetti la roba del diagramma commutativo
% A functor [I, Set] -> Set/I
% It sends {family of sets f: I \to Set}
% to disjoint union f(i)
% The functors are given by
% % https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRAB12AjLAczgCOAYyZoA+sCwACTljBSAkgF8pAMwAUWAJQglpdJlz5CKAEzkqtRizace-YaInTZ85VN6adeg9jwEiAEZSQMt6ZlZEEAVdSxgoXngiUFUAJwgAWyQyEBwIJGCrCNtuPkERcUkZdjlFFU5GNAALOjEsXX0QNMzs6jykcyKbKM40LDFVDpT0rMRC-sRB8OGOdjGxXlilIA
% Conversely, we havw a functor Gamma Set/I to [I, Set]
% P: S \to I given by disjoint union p^{-1}(I)
% We now show one side of the composition for the equivalence
% [I, Set] --lambda--> Set/I --gamma--> [I,Set]
% A family of I-sets
% is sent to
% disjoint union F_i
% {I -> Set given by i -> \pi_f^{-1}(i)}
% but those are precisely F_i so they are isomorphic to the identity of Set/I.
% On the other direction we have
% {p \colon S \to I}
% is sent to {f_S \colon I \to Set given by i \to p^{-1}(i)}
% which is sent to the union of the fibers
% {disjoint union p^{-1}(i)} che è isomorfo a quello iniziale
% TODO: naturality check

% Le categorie [C, Set] sono balanced

\pagebreak

\section{15/10/2025}

\newcommand{\invPi}{\rotatebox[origin=c]{180}{$\pi$}}

\textbf{Oggetti iniziali in Set:}

The singleton \(1_\mathbf{Set} = \{\ast\}\) satisfies a universal property:
for any \(C\) set there exist a unique arrow \(C \to 1_\mathbf{Set}\).
\begin{center}
    % https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRAEYB9AHW4Fs6OABYAjAGbAAyjBwBfELNLpMufIRRl2VWoxZsAwgu0woAc3hFQYgE4Q+SdtRwQkZHc1aIQvGAA8scDhwAIQg1AxYYJ4gUBA4OCZGskA
    \begin{tikzcd}
    1_\mathbf{Set}                  \\
    C \arrow[u, "\exists!", dashed]
    \end{tikzcd}
\end{center}

\textbf{Oggetti terminali in Set:}

Dually, the empty set \(\emptyset\) satisfies the following universal property:
\begin{center}
    % https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRAB12YBbNHATzgwcIAL6l0mXPkIoyARiq1GLNgGExSmFADm8IqABmAJwjckZEDghJ51BljCtEIKHTgALbSGr1mzji4ADyw4HDgAQk1RIA
    \begin{tikzcd}
    \emptyset \arrow[d, "\exists!", dashed] \\
    C                                      
    \end{tikzcd}
\end{center}

\textbf{Kernel in vector spaces in Set:}
Per semplicità usiamo set.
Possiamo generare il kernel come l'egualizzatore prendendo \(g=0\)
\[
    \text{Eq}(f,q) = \{v \in V \,|\, f(v) = g(v)\}
\]
Quindi 
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRAB12cYAPHYAKIBHAL4AKAGakA5gEoQI0uky58hFAEZyVWoxZsAagqUgM2PASIAmbdXrNWiEAHVjy82qJaNO+-qcAwgo6MFDS8ESgEgBOEAC2SADM1DgQSDa6DmwSnADGWNG5AAQAFkUAvEXSeQXFJSDUDHQARjAMAAoqFuog0VjSJThuIDHxSFogqenUcCVYEkOIALQTfo4jw6MJiBNTiBmz84ureuvSDSBNrR1dnk59A0OKUbHbyZNpO3anbPXPI68kilPmRLlgwOsoHRZqELms2JxeFg4Dg4ABCTikEoAck2gMQoL2uzoWAYvwgEAA1nCfk4sMEREA
\begin{tikzcd}
{\text{Eq}(f,g)} \arrow[r, "i", hook] & V \arrow[r, "f", shift left] \arrow[r, "g"', shift right]                                & W \\
                                      & C \arrow[ru, "f\circ h = g\circ h"'] \arrow[u, "h"] \arrow[lu, "{\exists!\,h'}", dashed] &  
\end{tikzcd}
Suppose \(h \colon C \to V\)
is an arrow such that \(f \circ h = g \circ h\).
Then, there exists exactly one arrow (factorization)
\(h' \colon C \to \text{Eq}(f,g)\)
such that \(i \circ h' = h\).
Quindi, \(\forall c \in C\),
\[
    h(c) \in \text{Eq}(f,g) \iff f(h(c)) = g(h(c))
\]

Se prendiamo una altra mappa che soddisfa tale proprietà universale allora essa
è necessariamente isomorfa a \(i\).

Un ulteriore generalizzazione è detta Pullbacks o prodotto fibrati.

Consideriamo due insiemi \(A,B\) che vivono al di sopra di \(D\)
mediante mappe \(h,k\). Allora viene usata la notazione
\[
    A \times_D B = \{(a,b) \in A\times B \,|\, h(a) = k(b)\}
\]
e quindi il diagramma commuta
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRAEEACAHW7wFt4AfQAinAEIgAvqXSZc+QigCM5KrUYs27abJAZseAkTLL19Zq0QhJMuYcVFVZ6ha3WR09TCgBzeESgAGYAThD8SGQgOBBIqhqWbGi6wWERiABM1DFIAMyumlYgANYpIKHhcdmxiPkJ7iAAFmUV6VE5mQWJ1gCOINQMdABGMAwACvJGSiAhWL6NOF5SQA
\begin{tikzcd}
A \times_D B \arrow[r, "p"] \arrow[d, "q"'] & A \arrow[d, "h"] \\
B \arrow[r, "k"]                            & D               
\end{tikzcd}
La proprietà universale di questo prodotto è data da: per ogni \(C\)
tale che \(h\circ g = k \circ g\), esiste un unico \(\xi\)
tale che il diagramma seguenti commuti:
\begin{center}
    % https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZARgBpiBdUkANwEMAbAVxiRAEEACAHW7wFt4AfQAinAEIgAvqXSZc+QigBM5KrUYs27abJAZseAkTLL19Zq0QhJMuYcVFVZ6ha3WRu+wuMoADKR+5ppWIADC0uowUADm8ESgAGYAThD8SAEgOBBIZBqWbGheIClpSKpZOYgAzK4hbADWxaXpiHnZSLX57iAAFs2prZkdiBVuoQCOINQMdABGMAwACvJGSiDJWDG9OANliAAs1CN5C2BQnZnjbIl7rUeV5dRnF4gAtNVX9db9diWDSAeIy+BWsvBgAA8sHAcHAAIS8Ui8KGRKRAA
    \begin{tikzcd}
    C \arrow[rrd, "f", bend left] \arrow[rdd, "h", bend right] \arrow[rd, "{\exists!\,\xi}"] &                                             &                  \\
                                                                                            & A \times_D B \arrow[r, "p"] \arrow[d, "q"'] & A \arrow[d, "h"] \\
                                                                                            & B \arrow[r, "k"]                            & D               
    \end{tikzcd}
\end{center}

Prendendo \(D = 1_\mathbf{Set}\) otteniamo l'usuale prodotto cartesiano.

Prendendo il duale di questa costruzione troviamo il Pushout chde permette di trattare
il caso di unioni che non sono disgiunte.
This is an object \(X\) together with arrows \(J_A, J_B\)
such that for any object \(C\) with arrows \(f,g\)
such that \(f \circ i_A = g \circ i_B\), there exist a unique
arrow \(\xi\)
such that \(\chi \circ J_A = f\) and \(\chi \circ J_B = g\)
\begin{center}
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRABEQBfU9TXfIRQBGclVqMWbAILdeIDNjwEio4ePrNWiEAA05fJYKJl11TVJ0AhAwv7KhyAEyknGydpABhbuJhQAc3giUAAzACcIAFskMhAcCCQAZnMPNiwAfRtqBjoAIxgGAAV7Yx1wrACACxxbCOjY6gSkUQktdIzZHjDImMRW5sQXNssQACkMujre5KbEodT2nQm86Yb+uaQAFmoCsChkuItPULW+lPj5nZA9g8QAWiSjtJ0AkBz8wpKjFXLKmrOSGGg2uxzYAB1wTAAB5YOA4OAAQkhpAABJDYe8QAwsGBPFA6HAqv5fFwgA
\begin{tikzcd}
D \arrow[d, "i_B"'] \arrow[r, "i_A"]             & A \arrow[d, "J_a"] \arrow[rdd, "f", bend left] &   \\
B \arrow[r, "J_b"] \arrow[rrd, "g"', bend right] & X \arrow[rd, "{\exists!\, \xi}", dashed]       &   \\
                                                 &                                                & C
\end{tikzcd}
\end{center}

Nel caso \(D = \emptyset\) possiamo prendere l'unione disgiunta.
Se \(D\) non è vuoto come costruiamo \(X\)?
Possiamo prendere un quoziente dell'unione disgiunta
secondo la relazione generata da
le coppie \((i_A(d), i_B(d))\) for \(d \in D\).
Questo fa sì che elementi non appaiano molteplici volte.
Esercizio: verificare i dettagli.

%%% caso particolare
Nel caso particolare in cui l'unione non è disgiunta abbiamo
\(D = A \cap B\) e \(i_{A,B}\) sono le inclusioni di
\(A \cap B\) in \(A\) e \(B\).
In tal caso abbiamo
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRAEEACAHW4GM6aTgCEQAX1LpMufIRQBGclVqMWbduMkgM2PASJl5y+s1aIQoscphQA5vCKgAZgCcIAWyRkQOCEkU+dFgMbAAWEBAA1prObp6I3r5IAEzUOEEh5uFR4hRiQA
\begin{tikzcd}
A \cap B \arrow[r, hook] \arrow[d, hook] & A \\
B                                        &  
\end{tikzcd}
Given \(d\in D\), \(i_A(d) = i_B(d)\) e \(J_A\) e \(J_B\)
li mandano negli stessi elementi di \(X\), per la commutatività.

\textbf{Quozienti:}

Consideriamo un insieme \(X\) e una relazione di equivalenza \(R \subseteq X \times X\).
Consideriamo la proiezione canonica
\[
    \pi_R \colon X \to X/R
\]
quindi
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBoBGAXVJADcBDAGwFcYkQAlEAX1PU1z5CKchWp0mrdgA0AOrLwBbeAAJpPPiAzY8BIqOLiGLNohDre-HUP2kATEcmnzPcTCgBzeEVAAzAE4QikhkIDgQSHY0xlJmaBp+gcGIoeFIAMzRTuwAjiA0jPQARjCMAAoCusIg-lgeABY4CSABQSE0aYiiYfRYjOz1EBAA1s2tyd2dURIm7PJoWAD65PkghSXllTZmtQ1Nli1JSJMRiJkzsSDzS3au3EA
\begin{tikzcd}
                                                   & X                                                \\
R \arrow[ru, "p"] \arrow[rd, "q"'] \arrow[r, hook] & X\times X \arrow[u, "\pi_1"'] \arrow[d, "\pi_2"] \\
                                                   & X                                               
\end{tikzcd}
Consider the following diagram:
for any \(C\) and \(h\) such that \(h\circ p = h \circ q\)
there exists a unique \(\xi\)
such that the diagram commutes (\(\xi \circ \pi_R = h\))
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRACUQBfU9TXfIRQBGclVqMWbABrdeIDNjwEiAJjHV6zVohDSA9Jx58lgtaWHitU3QGFu4mFADm8IqABmAJwgBbJGQgOBBIohLabGgg1HAAFlgeOEgAtMLGIN5+AdTBoTHxiXnhNiAAjtEgDHQARjAMAAr8ykIgXljOsUnpmf6IYbmI6sU6IAA6o2hYAPpG8j1FAwDMmpIjsRVVtQ1NZrptHV1zPr1DSysRuuMwAB5YcDhwAITjpAAE47cOXEA
\begin{tikzcd}
R \arrow[r, "p", shift left] \arrow[r, "q"', shift right] & X \arrow[r, "\pi_R"] \arrow[rd, "h"'] & X/R \arrow[d, "{\exists!\, \xi}"] \\
                                                          &                                       & C                                
\end{tikzcd}
For a function \(h \colon X \to C\) to factor through the quotient map
\(\pi_R\) the following condition is necessary and sufficient (well-defined):
\(\forall(x,x') \in R, h(x) = h(x')\), which can also be stated
\(h \circ p = h \circ q\) (which removes the element dependency).
Questo è il duale della proprietà universale dell'egualizzatore.

\section{16 ottobre}

Any category \(\mathcal{C}\) has an underlying oriented graph \(U(\mathcal{C})\) which
forgets the composition law for morphisms. It is natural to define a diagram in \(\mathcal{C}\)
as morphisms of graphs \(G \to U(\mathcal{C})\) where \(G\) is a graph specifying the form of the diagram.

\textbf{Categorie libera su un grafo.}
We can construct a minimal category starting from a graph.
The objects are the same as the graph, and the morphisms
need to be chosen such that they compose.
We can define such composition as the concatenation of morphisms
with compatible domains and codomains.
This is the free category \(F(G)\) on \(G\) which satisfies the following universal property:
for any caregory \(\mathcal{C}\)
we have the graph morphisms \(G \to U(\mathcal{C})\)
and functors \(F(G) \to \mathcal{C}\).
\(F(G)\) is constructed by taking as objects those of \(G\)
and as arrows the finite lists of arrows in \(G\)
with composible domains and codomains; the composition law is given by list concatenation.
% esercizio fill the details

This construction allows us to define the notion of diagram
in the language of category theory itself, without loss of generality.

\sdefinition{}{
    A diagram \(D\) in a category \(\mathcal{C}\)
    is a functor \(D \colon J \to \mathcal{C}\), where \(J\)
    is a category defining the "shape" of the diagram \(D\).
}

This means that a functor \(F \colon J \to C\) can be thought as a diagram in \(C\)
of shape \(J\).

\sdefinition{Cono}{
    A cone with vertex \(c\) over a diagram \(D \colon J \to C\)
    is a collection of morphisms \(\{\lambda_j \colon c \to D(j)\}\) for all \(j \in J\)
    such that \(D(\xi) \cdot \lambda_{J_1} = \lambda{J_2}\)
}
\begin{center}
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBoBGAXVJADcBDAGwFcYkQARACgCkB9cgEoQAX1LpMufIRTkK1Ok1btu-AEzCxE7HgJEyxBQxZtEIfuVHiQGHdKJzDNY8rPqr2qXpRk1RpaYgAMaiCjBQAObwRKAAZgBOEAC2SGQgOBBIcoomKlwAOvkAHlia1gnJSGo0GUgAzM4B7IUlIDSM9ABGMIwACpK6MiDxWBEAFjgeIBUpiAAsNZmIaS6BhR1JnVD0fMAWIlMzSAvpS9mrzfkbWzt7AgftXT39dt7DoxOhIkA
\begin{tikzcd}
    J_1 \arrow[r, "\xi"']                                     & J_2    \\
    D(J_1) \arrow[r, "D(\xi)"]                                & D(J_2) \\
    c \arrow[u, "\lambda_{J_1}"] \arrow[ru, "\lambda_{J_1}"'] &       
\end{tikzcd}
\end{center}

Ci deve essere una freccia sola per ogni oggetto caratterizzante nel diagramma.

\sdefinition{Limit}{
    A limit of a diagram \(D \colon J \to C\) is a cone over \(D\)
    which is universal, i.e. such that any cover over \(D\)
    factors uniquely through it.
}
\begin{center}
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRABEAKAKQH0BGAJQgAvqXSZc+Qin7kqtRizYAdFQywBbAASd2wsROx4CRAEzzq9Zq0QcevMwfEgMx6UTn8F15XYDGogowUADm8ESgAGYAThCaSADM1DgQSBYgAEYwYFBIALSJZIo2qup0mplQdLzAfGYiINQMdNkMAAqSJjIgMVihABY4oi6x8UkpaYjF2blJxb62IGotldW1fPyNhiBjCYjJIKlIciAaYEvVcAMhTSV+yyowAB5YcDhwAIQj0XH7p8dplYlEsGBsBI1mq0YB0uh47H1BsMdnsTpN0sDSnYwXVHJCztDYe5TNiYFFkRQREA
\begin{tikzcd}
D(J_1) & \lim (D) \arrow[l, "l_{J_1}"'] \arrow[r, "l_{J_2}"]                                                             & D(J_2) \\
       & c \arrow[ru, "\lambda_{J_2}"', bend right] \arrow[lu, "\lambda_{J_1}", bend left] \arrow[u, "\exists!", dashed] &       
\end{tikzcd}
\end{center}
This means that there exists for any cone
\(\{\lambda_j \colon c \to D(j)\}\) over \(D\), a uinque arrow
\(\xi \colon c \to \lim D\) such that all the triangles commute.

\sdefinition{Complete category}{
    A category \(C\) is said to be complete if every diagram
    \(D \colon J \to C\) where \(J\) is a small category.
}

\sdefinition{Colimite}{
    The dual notion of the notion of limit is called colimit.
}

Cioè un colimite di un diagramma \(D \colon J \to C\)
è esattamente il limite del diagramma \(D^{op} \colon J^{op} \to C^{op}\).

Exercise: esplicita la proprietà universale di colimite. 
Exercise: mosra che quest'ultima si specializza in nelle due proprietà universali
dell'unione disgiunta, pushout e quotient.

Il cono viene formalmente definito nelle slide.
Il diagramma a quadrato dela naturalità collassa perché una freccia è l'identità,
cioè il funtore delta c manda tutte le freccie in quella identitaria.
(Lezione 16 ottobre mostra il quadrato che diventa degenere).

Esercizio: mostra che se il limite di un diagramma esiste, allora è unico a meno di isomorfismo.
(The proof method is the same already used in the articular cases of the product and equalizer).
La stessa dimostrazione vale per i colimiti.

L'immagine di un cono è un cono ma non necessariamente universale.
Quindi un funtore non preserve i limiti.

Exercise: Show that the universal property of the limit specializes
to the universal properties of the pullback (or fibered product) and of the equalizer.

\textbf{Come definire a,b del teorema slide Limits in Set:}
Abbiamo
\[
    a,b \colon \prod_{i \in \text{Ob}(I)} H(i)
    \to \prod_{\substack{u \colon i \to j \\ J \in \text{Ob}(I)}}
\]
usiamo due strade per definire a e b con la composizione, che non danno appunto necessariamente
il medesimo risultato. Da una parte ho \(H(i)(x_i)\) e dall'altra ho \(x_j\).

Exercise: show that \(\text{Eq}(a,b)\) satisfies
the universal property \(\lim H\).
Visto che abbiamo fissato \(H\) vale per tutti.
Il cono è quello l'eq in quello nelle slide.

\section{Smallest equivalence relation}

Vogliamo trovare la relazione di equivalenza
generata da una relazione data (definizione).
Sia \(R\) una relazione (non necessariamente di equivalenza) in \(X\).
Vogliamo trovare la più piccola relazione che contiene \(R\).
Potremmo prendere l'intersezione di tutte le relazioni che
contengono \(R\), ma non è pratico.

Vogliamo forzare le proprietà della relazione di equivalenza, prendiamo quindi
\[
    R' = R \cup \{(x,x) \,|\, x\in X\}
    \cup \{(x,x') \,|\, (x', x) \in R\}
\]
questa aggiunge la riflessività e simmetria.
Per la transitività definiamo
\(R''\) tale che \((x, x') \in R''\)
se e solo se esiste una succesione finita che connette \(x\) e \(x'\)
in \(R'\).

\subsection{Filtered category}

Nella definizione è come richiedere che esista un cocono (non per forza il limite, solo il cocono).
Tipo per l'oggetto iniziale era il limite del diagramma vuoto quindi un cocono.

\slemma{}{
    Una categoria è filtrata
    se e solo se ammette un cocono
    per tutti i diagrammi finiti (oggetti finiti e morfismi finiti).
    È proprio la definizione.
}

\sproof{}{
    Sia \(D \colon J \to I\) un diagramma finito, quindi \(J\) è finita.
    Possiamo costruire un cocono
    di forma coprodotto on all the object
    \(D(i)\). And then we can coequalize
    and obtain for every arrow \(u \colon i \to j\)
    a "coequalizing arrow" \(D(u) \colon D(i) \to D(j)\).
    By the definition of filtered category
    we can find arrows such that it commutes.
    Applying this for every arrow of \(J\) we obtain a cocone on \(D\).
    Thus, on every finite diagram we can have a cocone constructed as such.
}

\pagebreak

\section{Lemma di Yoneda}

Il lemma di Yoneda mette in relazioni le trasformazioni lineari
(livello 2) con i funtori che sono elementi di un insieme. Questa è una biezione fra insiemi.

Dal diagramma di naturalezza con il caso particolare possiamo trovare che
\(\alpha_d(f) = Ff(\alpha_C(1_C))\) quindi da quel singolo elemento posso ricostruire
la trasformazione.

Se facciamo variare \(F\) e \(c\) (variabilità in due componenti),
al posto che una biezione fra insiemi possiamo riscrivere il teorema
a livello di funtori, cioè come un isomorfismo naturale fra funtori.

\sexample{Nota da mettere nella trasformazioni naturali}{
    Per mostrare la naturalità di \(A \times B\)
    basta mostrarla per ogni componente.
}

Nella dimostrazione che l'embedding di Yoneda
è full e faithful BISOGNA dimostrare anche che la biiezione indotta dall'embedding
coincide con la mappa sovradefinita.

\section{Analogia sui prefasci}

Come negli insiemi possiamo rappresentare le funzioni dai singleton
\[
    \text{Hom}(\{\ast\}, X) \cong X
\]
facciamo la stessa cosa con i prefasci usando i funtori rappresentabili.
Questo è precisamente il lemma di Yoneda.

\end{document}